# mergeiterator

Merges async iterators.

[![NPM version](https://img.shields.io/npm/v/mergeiterator.svg?style=flat-square)](https://npmjs.org/package/mergeiterator)
[![Build Status](https://img.shields.io/travis/vadzim/mergeiterator/master.svg?style=flat-square)](https://travis-ci.org/vadzim/mergeiterator)
[![Coverage Status](https://img.shields.io/codecov/c/github/vadzim/mergeiterator/master.svg?style=flat-square)](https://codecov.io/gh/vadzim/mergeiterator/branch/master)

### Using

This utility is for merging together async iterators.

```js
merge(collection_of_iterables): Iterable
```

Pass it a collection of iterables and it'll return an [async iterator](https://github.com/tc39/proposal-async-iteration), which will contain all values from those iterables. Those iterables and the collection of them can be arrays, calls to generators, or any other kind of iterable, synchronous or async, finite or infinite.

```javascript
import merge from "mergeiterator"

async function DoIt() {
	const array = [1,2,3]
	function *generator() {
		let i = 6
		while (true) yield (i++)
	})
	async function *asyncGenerator() {
		yield await Promise.resolve(4)
		yield Promise.resolve(5)
	})
	for await (const v of merge([array, generator(), asyncGenerator()])) {
		console.log(v)
	}
}
// 1 6 2 7 4 3 8 5 9 10 11 ...
```

`mergeIterator` function guarantees, that if some value is yielded by some of iterables that `mergeIterator` is passed, then that value will be eventually yielded by `mergeIterator`. It also guarantees that the order of values within the same iterable is preserved.

If some iterable yields a promise, its value will be yielded, not a promise itself.

If some iterable throws an error, that error will be redirected to a caller and other iterables will be closed.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [merge](#merge)
    -   [Parameters](#parameters)

### merge

Merges async or sync iterables into async one.

#### Parameters

-   `sequences` **AnyIterable&lt;AnyIterable&lt;([Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;T> | T)>>** 

Returns **AsyncIterator&lt;T>** 
